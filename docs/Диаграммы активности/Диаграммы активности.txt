@startuml
partition Пользователь {
(*) --> "Пользователь зашел в аккаунт"
if "Пользователь вбил строку поискового запроса" then 
}
partition Система {
-->[true] "Вывод списка подходящих композиций" 
}
partition Пользователь {
--> "Пользователь нажал на кнопку Play на компоненте трека"
}
partition Плеер {
--> "Плеер проигрывает трек"
-right-> (*)
}
partition Пользователь {
else 
->[false] if "Пользователь зашел в личную библиотеку" then
-->[true] "Пользователь нажал на кнопку Play на компоненте трека"
else
->[false] "Пользователь открыл вкладку с рекомендациями"
--> "Пользователь открыл плейлист"
--> "Пользователь нажал на кнопку Play на компоненте трека"
}
endif
endif

@enduml


/////////////////////////////////////////////////////////////////////////////////////////

@startuml
partition Админ {
(*) --> "Админ зашел в аккаунт"
if "Админ хочет зайти в управление аккаунтами" then 
-->[true] "Админ ввел строку запроса" 
}
partition Система {
--> "Поиск в БД"
--> "Вывод результата"
}
partition Админ {
if "Админ хочет заблокировать пользователя" then
--> [true]"Админ нажимает на кнопку блокировки"
}
partition Система {
--> ===B1=== 
--> "Пользователь блокируется"
===B1=== --> "Пользователя выбрасывает из аккаунта"
--> (*) 
}
else 
partition Админ {
->[false] if "Админ хочет удалить аккаунт пользователя" then
--> [true] "Админ нажимает на кнопку удаления"
}
partition Система {
--> ===B2=== 
--> "Аккаунт пользователя удаляется"
--> (*) 
===B2=== --> "Пользователя выбрасывает из аккаунта"
}
else
partition Админ {
->[false] "Админ хочет поменять роль аккаунта"
--> "Админ нажимает на кнопку изменения роли"
}
partition Система {
--> ===B2=== 
--> "Система меняет роль пользователя"
}
endif
endif
else
partition Админ {
-->[false] "Админ хочет посмотреть статистику"
--> "Админ нажимает на кнопку со статистикой"
}
partition Система {
--> "Вывод статистики"
--> (*) 
}
@enduml

////////////////////////////////////////////////////////////////////////////////////////

@startuml
partition Исполнитель {
(*) --> "Исполнитель зашел в аккаунт"
if "Исполнитель хочет опубликовать трек"
--> [true] "Исполнитель нажимает на кнопку New Track"
--> "Исполнитель загружает трек на площадку"
--> "Исполнитель оформляет карточку трека"
--> "Исполнитель нажимает на кнопку опубликовать трек"
}
partition Система {
--> "Система добавляет трек(и) в БД"
--> "Система добавляет трек(и) в библиотеку исполнителя"
--> (*)
}
else
partition Исполнитель {
-->[false] "Исполнитель хочет опубликовать альбом"
--> "Исполнитель нажимает на кнопку New Album"
--> "Исполнитель поочередно загружает треки в альбом"
--> "Исполнитель оформляет карточку альбома"
--> "Исполнитель нажимает на кнопку опубликовать альбом"
}
partition Система {
--> ===B1===
--> "Система добавляет альбом в БД"
--> "Система добавляет альбом в библиотеку исполнителя"
--> (*)
===B1=== --> "Система добавляет трек(и) в БД"
}
endif
@enduml


////////////////////////////////////////////////////////////////////////////////////

@startuml
partition Пользователь {
(*) --> "Пользователь зашел в аккаунт"
--> "Пользователь хочет создать плейлист"
if "Необходимые треки находятся в библиотеке пользователя"
-->[true] "Пользователь нажимает на кнопку создания плейлиста"
--> "Пользователь добавляет треки в плейлист"
--> "Пользователь заполняет поле с названием плейлиста"
if "Пользователь хочет добавить изображение для плейлиста"
-->[true] "Пользователь загружает изображение на площадку"
--> "Пользователь нажимает на кнопку сохранить"
}
partition Система {
--> "Система загружает данные в БД"
--> "Система добавляет плейлист в библиотеку пользователя"
--> (*)
}
partition Пользователь {
else
-->[false] "Пользователь нажимает на кнопку сохранить"
}
partition Система {
--> "Система устанавливает стандартное изображение для плейлиста"
--> "Система загружает данные в БД"
}
endif
partition Пользователь {
else
-->[false] "Пользователь вбивает строку поискового запроса"
}
partition Система {
--> "Система выводит список подходящих композиций" 
}
partition Пользователь {
--> "Пользователь нажимает кнопку Добавить"
}
partition Система {
--> "Система добавляет трек в библиотеку пользователя"
}
partition Пользователь {
-->"Пользователь нажимает на кнопку создания плейлиста"

}

endif


@enduml


////////////////////////////////////////////////////////////////////////////////////

@startuml

partition Артист {
(*) --> "Артист зашёл в аккаунт"
--> "Артист хочет изменить аватар"
if "Артист хочет загрузить новый автар"
-->[true] "Артист нажимает на загрузить новый аватар"
--> "Артист загружает новый аватар"
}

partition Система {
--> "Система загружает новые данные в БД"
--> "Система удаляет старый аватар"
--> "Система добавляет новый аватар"
}

partition Артист {
else
-->[false] "Артист хочет удалить автар"
--> "Артист нажимает на кнопку удалить свой аватар"
--> "Артист удаляет аватар"
}

partition Система {
--> "Система устанавливает стандартное изображение"
--> "Система загружает новые данные в БД"
}

endif
@enduml

////////////////////////////////////////////////////////////////////////////////////////////////

@startuml

partition Пользователь {
(*) --> "Пользователь хочет удалить аккаунт"
--> "Пользователь нажимает на кнопку с настройками"
}

partition Система {
--> "Система открывает окно с настройками"
}

partition Пользователь {
--> "Пользователь нажимает на кнопку удалить аккаунт"
}

partition Система {
--> "Система выводит сообщение: Вы уверены, что хотите удалить аккаунт?"
}

partition Пользователь {
-right-> "Пользователь нажимает на кнопку Да"
}

partition Система {
-left-> "Система открывает начальное окно с выбором авторизации или регистрации"
-left-> "Система удаляет данные о пользователе"
--> (*)
}

@enduml